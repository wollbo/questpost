var artistId = args[0]\nconst clientIdAndSecret = secrets.clientId + ':' + secrets.clientSecret\nconst base64Encoded = Buffer.from(clientIdAndSecret).toString('base64')\n\nconst oauthTokenResponse = await Functions.makeHttpRequest({\n    url: 'https://accounts.spotify.com/api/token',\n    method: 'POST',\n    headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': 'Basic ' + base64Encoded,\n    },\n    data: { \n        'grant_type': 'client_credentials', \n    }\n})\n\nif (!oauthTokenResponse.error) {\n    console.log(oauthTokenResponse.data.access_token)\n    const artistPopularityResponse = await Functions.makeHttpRequest({\n        url: `https://api.spotify.com/v1/artists/${artistId}`,\n        headers: {\n            'Authorization': `Bearer ${oauthTokenResponse.data['access_token']}`,\n            'Content-Type': 'application/json',\n        }\n    })\n    return Functions.encodeUint256(artistPopularityResponse.data['popularity'])\n}\nelse {\n    console.log('Oauth error!')\n    console.log(oauthTokenResponse)\n}\n